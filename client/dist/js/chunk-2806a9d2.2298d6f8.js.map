{"version":3,"sources":["webpack:///./components/room/RoomList.vue?c118","webpack:///./components/room/RoomList.vue?cf83","webpack:///components/room/RoomList.vue","webpack:///./components/room/RoomList.vue?1173","webpack:///./components/room/RoomList.vue?2e45"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","errorMessage","_v","_s","rooms","length","getPrivateRooms","getPublicRooms","directives","name","rawName","value","expression","modifiers","domProps","on","$event","target","composing","searchInput","trim","$forceUpdate","filteredRooms","_l","room","key","_id","preventDefault","handleRoomClick","class","public","access","private","users","user","handle","getUserData","stopPropagation","handleDelete","ref","slot","privateRoomName","handlePrivateRoomCheck","privateRoomPassword","errors","handleCreateRoom","room_name","password","openModal","fetchRoomData","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2806a9d2.2298d6f8.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomList.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page roomList\"},[_c('section',{staticClass:\"section section--mmt mb-3\"},[_vm._m(0),_c('div',{staticClass:\"section__content\"},[_c('Error',{attrs:{\"errorMessage\":_vm.errorMessage}}),_c('p',{staticClass:\"section__lead\"},[_vm._v(\"Enter a room and start chatting!\")]),(_vm.rooms)?_c('div',{staticClass:\"rooms\"},[_c('div',{staticClass:\"rooms__header\"},[_c('div',{staticClass:\"rooms__details\"},[_c('div',{staticClass:\"rooms__details-item\"},[_vm._v(\"\\n                            Total Rooms:\\n                            \"),_c('span',{staticClass:\"badge badge--info\"},[_vm._v(_vm._s(_vm.rooms.length))])]),_c('div',{staticClass:\"rooms__details-item\"},[_vm._v(\"\\n                            Private Rooms:\\n                            \"),_c('span',{staticClass:\"badge badge--danger\"},[_vm._v(_vm._s(_vm.getPrivateRooms.length))])]),_c('div',{staticClass:\"rooms__details-item\"},[_vm._v(\"\\n                            Public Rooms:\\n                            \"),_c('span',{staticClass:\"badge badge--success\"},[_vm._v(_vm._s(_vm.getPublicRooms.length))])])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.searchInput),expression:\"searchInput\",modifiers:{\"trim\":true}}],staticClass:\"rooms__search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"Search | Enter 'my_rooms' for a list of your created rooms\"},domProps:{\"value\":(_vm.searchInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchInput=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('transition',{attrs:{\"name\":\"slideDown\"}},[_c('ul',{staticClass:\"rooms__list\"},[(_vm.filteredRooms.length > 0)?_c('transition-group',{attrs:{\"name\":\"slideUp\"}},_vm._l((_vm.filteredRooms),function(room){return _c('li',{key:room._id,staticClass:\"rooms__list-item\"},[_c('a',{staticClass:\"rooms__list-item-link\",attrs:{\"href\":(\"room/\" + (room._id))},on:{\"click\":function($event){$event.preventDefault();return _vm.handleRoomClick(room)}}},[_c('div',{staticClass:\"rooms__item-container\"},[_c('div',{staticClass:\"rooms__item-details\"},[_c('p',[_vm._v(_vm._s(room.name))]),_c('p',{class:{ public: room.access, private: !room.access}},[_vm._v(_vm._s(room.access === true ? 'Public': 'Private'))]),_c('p',[_c('strong',[_vm._v(\"Users:\")]),_vm._v(\"\\n                                                \"+_vm._s(room.users.length)+\"\\n                                            \")]),_c('p',[_c('strong',[_vm._v(\"Room Admin:\")]),_vm._v(\"\\n                                                \"+_vm._s(room.user ? room.user.handle : 'Unknown User')+\"\\n                                            \")])]),_c('div',{staticClass:\"rooms__item-actions\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(room.user && _vm.getUserData._id === room.user._id),expression:\"room.user && getUserData._id === room.user._id\"}],staticClass:\"rooms__item-action\"},[_c('a',{staticClass:\"btn btn--danger\",attrs:{\"name\":room.name},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDelete($event)}}},[_vm._v(\"Delete\")])])])])])])}),0):_c('span',[_vm._v(\"No Rooms\")])],1)]),_c('Modal',{ref:\"privateRoom\",attrs:{\"name\":\"private-room\"}},[_c('template',{slot:\"header\"},[_c('h2',{staticClass:\"text-upper\"},[_vm._v(\"Enter \"+_vm._s(this.privateRoomName || 'Private Room'))])]),_c('template',{slot:\"body\"},[_c('form',{staticClass:\"form form--nbs pt-3\",attrs:{\"slot\":\"body\"},on:{\"submit\":_vm.handlePrivateRoomCheck},slot:\"body\"},[_c('div',{staticClass:\"form__input-group\"},[_c('ion-icon',{staticClass:\"form__icon\",attrs:{\"name\":\"key\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.privateRoomPassword),expression:\"privateRoomPassword\",modifiers:{\"trim\":true}}],staticClass:\"form__control\",attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"Enter Password\"},domProps:{\"value\":(_vm.privateRoomPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.privateRoomPassword=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{staticClass:\"form__label\",attrs:{\"for\":\"password\"}},[_vm._v(\"Password\")])],1),_c('Error',{attrs:{\"errors\":_vm.errors}}),_c('button',{staticClass:\"btn btn--clear btn--info\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Enter Room\")])],1)])],2),_c('Modal',{ref:\"createRoom\",attrs:{\"name\":\"create-room\"}},[_c('template',{slot:\"header\"},[_c('h2',{staticClass:\"text-upper\"},[_vm._v(\"Create Room\")])]),_c('template',{slot:\"body\"},[_c('form',{staticClass:\"form form--nbs pt-3\",attrs:{\"slot\":\"body\"},on:{\"submit\":_vm.handleCreateRoom},slot:\"body\"},[_c('div',{staticClass:\"form__input-group\"},[_c('ion-icon',{staticClass:\"form__icon\",attrs:{\"name\":\"list-box\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.room_name),expression:\"room_name\",modifiers:{\"trim\":true}}],staticClass:\"form__control\",attrs:{\"type\":\"text\",\"name\":\"room_name\",\"placeholder\":\"Enter Room Name\"},domProps:{\"value\":(_vm.room_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.room_name=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{staticClass:\"form__label\",attrs:{\"for\":\"room_name\"}},[_vm._v(\"Room Name\")])],1),_c('div',{staticClass:\"form__input-group\"},[_c('ion-icon',{staticClass:\"form__icon\",attrs:{\"name\":\"key\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],staticClass:\"form__control\",attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"Enter Password\",\"pattern\":\".{5,10}\",\"title\":\"Password must be between 5 and 15 characters\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{staticClass:\"form__label\",attrs:{\"for\":\"password\"}},[_vm._v(\"Password (Optional)\")])],1),_c('Error',{attrs:{\"errors\":_vm.errors}}),_c('button',{staticClass:\"btn btn--clear btn--danger\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Create Room\")])],1)])],2),_c('div',{staticClass:\"rooms__actions\"},[_c('a',{staticClass:\"btn btn--info\",on:{\"click\":_vm.openModal}},[_vm._v(\"Create Room\")]),_c('a',{staticClass:\"btn btn--info\",on:{\"click\":_vm.fetchRoomData}},[_vm._v(\"Refresh Rooms\")])])],1):_vm._e()],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section__heading mt-6\"},[_c('span',{staticClass:\"section__title\"},[_vm._v(\"Room List\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"page roomList\">\n        <section class=\"section section--mmt mb-3\">\n            <div class=\"section__heading mt-6\">\n                <span class=\"section__title\">Room List</span>\n            </div>\n            <div class=\"section__content\">\n                <Error :errorMessage=\"errorMessage\" />\n                <p class=\"section__lead\">Enter a room and start chatting!</p>\n                <div class=\"rooms\" v-if=\"rooms\">\n                    <div class=\"rooms__header\">\n                        <div class=\"rooms__details\">\n                            <div class=\"rooms__details-item\">\n                                Total Rooms:\n                                <span class=\"badge badge--info\">{{ rooms.length }}</span>\n                            </div>\n                            <div class=\"rooms__details-item\">\n                                Private Rooms:\n                                <span\n                                    class=\"badge badge--danger\"\n                                >{{ getPrivateRooms.length }}</span>\n                            </div>\n                            <div class=\"rooms__details-item\">\n                                Public Rooms:\n                                <span\n                                    class=\"badge badge--success\"\n                                >{{ getPublicRooms.length }}</span>\n                            </div>\n                        </div>\n                        <input\n                            type=\"text\"\n                            class=\"rooms__search-input\"\n                            placeholder=\"Search | Enter 'my_rooms' for a list of your created rooms\"\n                            v-model.trim=\"searchInput\"\n                        />\n                    </div>\n                    <transition name=\"slideDown\">\n                        <ul class=\"rooms__list\">\n                            <transition-group name=\"slideUp\" v-if=\"filteredRooms.length > 0\">\n                                <li\n                                    v-for=\"room in filteredRooms\"\n                                    :key=\"room._id\"\n                                    class=\"rooms__list-item\"\n                                >\n                                    <a\n                                        :href=\"`room/${room._id}`\"\n                                        class=\"rooms__list-item-link\"\n                                        @click.prevent=\"handleRoomClick(room)\"\n                                    >\n                                        <div class=\"rooms__item-container\">\n                                            <div class=\"rooms__item-details\">\n                                                <p>{{ room.name }}</p>\n                                                <p\n                                                    :class=\"{ public: room.access, private: !room.access}\"\n                                                >{{ room.access === true ? 'Public': 'Private' }}</p>\n                                                <p>\n                                                    <strong>Users:</strong>\n                                                    {{ room.users.length }}\n                                                </p>\n                                                <p>\n                                                    <strong>Room Admin:</strong>\n                                                    {{ room.user ? room.user.handle : 'Unknown User' }}\n                                                </p>\n                                            </div>\n                                            <div class=\"rooms__item-actions\">\n                                                <div\n                                                    v-show=\"room.user && getUserData._id === room.user._id\"\n                                                    class=\"rooms__item-action\"\n                                                >\n                                                    <a\n                                                        @click.stop=\"handleDelete\"\n                                                        :name=\"room.name\"\n                                                        class=\"btn btn--danger\"\n                                                    >Delete</a>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </a>\n                                </li>\n                            </transition-group>\n                            <span v-else>No Rooms</span>\n                        </ul>\n                    </transition>\n                    <!-- Private Room Enter Modal -->\n                    <Modal name=\"private-room\" ref=\"privateRoom\">\n                        <template slot=\"header\">\n                            <h2\n                                class=\"text-upper\"\n                            >Enter {{ this.privateRoomName || 'Private Room' }}</h2>\n                        </template>\n                        <template slot=\"body\">\n                            <form\n                                @submit=\"handlePrivateRoomCheck\"\n                                slot=\"body\"\n                                class=\"form form--nbs pt-3\"\n                            >\n                                <div class=\"form__input-group\">\n                                    <ion-icon name=\"key\" class=\"form__icon\"></ion-icon>\n                                    <input\n                                        type=\"password\"\n                                        name=\"password\"\n                                        class=\"form__control\"\n                                        placeholder=\"Enter Password\"\n                                        v-model.trim=\"privateRoomPassword\"\n                                    />\n                                    <label for=\"password\" class=\"form__label\">Password</label>\n                                </div>\n                                <Error :errors=\"errors\" />\n                                <button type=\"submit\" class=\"btn btn--clear btn--info\">Enter Room</button>\n                            </form>\n                        </template>\n                    </Modal>\n                    <!-- Create Room Modal -->\n                    <Modal name=\"create-room\" ref=\"createRoom\">\n                        <template slot=\"header\">\n                            <h2 class=\"text-upper\">Create Room</h2>\n                        </template>\n                        <template slot=\"body\">\n                            <form\n                                @submit=\"handleCreateRoom\"\n                                slot=\"body\"\n                                class=\"form form--nbs pt-3\"\n                            >\n                                <div class=\"form__input-group\">\n                                    <ion-icon name=\"list-box\" class=\"form__icon\"></ion-icon>\n                                    <input\n                                        type=\"text\"\n                                        name=\"room_name\"\n                                        class=\"form__control\"\n                                        placeholder=\"Enter Room Name\"\n                                        v-model.trim=\"room_name\"\n                                    />\n                                    <label for=\"room_name\" class=\"form__label\">Room Name</label>\n                                </div>\n                                <div class=\"form__input-group\">\n                                    <ion-icon name=\"key\" class=\"form__icon\"></ion-icon>\n                                    <input\n                                        type=\"password\"\n                                        name=\"password\"\n                                        class=\"form__control\"\n                                        placeholder=\"Enter Password\"\n                                        pattern=\".{5,10}\"\n                                        title=\"Password must be between 5 and 15 characters\"\n                                        v-model.trim=\"password\"\n                                    />\n                                    <label for=\"password\" class=\"form__label\">Password (Optional)</label>\n                                </div>\n                                <Error :errors=\"errors\" />\n                                <button type=\"submit\" class=\"btn btn--clear btn--danger\">Create Room</button>\n                            </form>\n                        </template>\n                    </Modal>\n                    <div class=\"rooms__actions\">\n                        <a @click=\"openModal\" class=\"btn btn--info\">Create Room</a>\n                        <a @click=\"fetchRoomData\" class=\"btn btn--info\">Refresh Rooms</a>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Modal from '@/components/layout/Modal';\nimport { mapActions, mapGetters } from 'vuex';\nimport Error from '@/components/error/Error.vue';\n\nexport default {\n    name: 'RoomList',\n    props: ['message'],\n    components: {\n        Modal: Modal,\n        Error\n    },\n    data: function() {\n        return {\n            rooms: [],\n            room_name: null,\n            privateRoomName: null,\n            password: null,\n            privateRoomPassword: null,\n            searchInput: '',\n            errorMessage: this.message,\n            errors: []\n        };\n    },\n    computed: {\n        ...mapGetters(['getUserData', 'getRoomData', 'getSocket']),\n        getPrivateRooms() {\n            return this.rooms.filter(room => room.access === false);\n        },\n        getPublicRooms() {\n            return this.rooms.filter(room => room.access === true);\n        },\n        filteredRooms() {\n            if (this.searchInput.toLowerCase() === 'my_rooms') {\n                return this.rooms.filter(room => room.user._id === this.getUserData._id);\n            } else {\n                return this.rooms\n                    .slice()\n                    .sort(this.sortAlphabetical)\n                    .filter(room =>\n                        room.name.toLowerCase().includes(this.searchInput.toLowerCase())\n                    );\n            }\n        }\n    },\n    methods: {\n        ...mapActions(['updateRoomData', 'addRoom', 'deleteRoom', 'saveCurrentRoom']),\n        sortAlphabetical(a, b) {\n            let roomA = a.name.toUpperCase();\n            let roomB = b.name.toUpperCase();\n            if (roomA < roomB) {\n                return -1;\n            }\n            if (roomA > roomB) {\n                return 1;\n            }\n            return 0;\n        },\n        checkLingeringUser(data) {\n            for (const room of data) {\n                if (room.users.some(room => room._id === this.getUserData._id)) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        fetchRoomData() {\n            axios\n                .get('/api/room')\n                .then(res => {\n                    if (this.checkLingeringUser(res.data)) {\n                        return axios.put(`/api/room/remove/users/all`, {\n                            user_id: this.getUserData._id\n                        });\n                    } else {\n                        this.$store.dispatch('updateRoomData', res.data);\n                        this.rooms = res.data;\n                    }\n                })\n                .then(res => {\n                    if (res && res.data) {\n                        this.rooms = res.data;\n                    }\n                })\n                .catch(err => {\n                    console.log(err);\n                });\n        },\n        openModal() {\n            this.$refs.createRoom.open();\n        },\n        enterRoom(room) {\n            this.$router.push({ name: 'Room', params: { id: room._id } });\n        },\n        handleCreateRoom(e) {\n            e.preventDefault();\n\n            axios\n                .post('/api/room', {\n                    room_name: this.room_name,\n                    password: this.password\n                })\n                .then(res => {\n                    if (res.data.errors) {\n                        for (const error of res.data.errors) {\n                            const [value] = Object.values(error);\n                            this.errors.push(value);\n                        }\n                    } else {\n                        this.$store.dispatch('addRoom', res.data);\n                        this.room_name = null;\n                        this.password = null;\n                        this.$refs.createRoom.close();\n                        this.getSocket.emit('roomAdded', res.data);\n                    }\n                })\n                .catch(err => {\n                    console.log(err);\n                });\n\n            setTimeout(() => {\n                this.errors = [];\n            }, 1500);\n        },\n        handleDelete(e) {\n            e.preventDefault();\n            axios\n                .delete(`/api/room/${e.target.name}`)\n                .then(res => {\n                    this.$store.dispatch('deleteRoom', res.data);\n                    this.getSocket.emit('roomDeleted', {\n                        room: res.data,\n                        user: this.getUserData,\n                        admin: true,\n                        content: `${res.data.user.username} deleted room ${res.data.name}`\n                    });\n                })\n                .catch(err => console.log(err));\n        },\n        handleRoomClick(room) {\n            if (\n                room.access ||\n                this.getUserData._id === room.user._id ||\n                room.accessIds.includes(this.getUserData._id)\n            ) {\n                this.enterRoom(room);\n            } else {\n                this.privateRoomName = room.name;\n                this.$refs.privateRoom.setData('room', room);\n                this.$refs.privateRoom.open();\n            }\n        },\n        handlePrivateRoomCheck(e) {\n            e.preventDefault();\n            axios\n                .post('/api/room/verify', {\n                    room_name: this.$refs.privateRoom.modalData.room.name,\n                    password: this.privateRoomPassword\n                })\n                .then(res => {\n                    if (res.data.errors) {\n                        for (const error of res.data.errors) {\n                            const [key] = Object.keys(error);\n                            const [value] = Object.values(error);\n                            this.errors.push({\n                                key,\n                                value\n                            });\n                        }\n                        this.privateRoomPassword = null;\n                    } else {\n                        if (res.data.success) {\n                            this.enterRoom(this.$refs.privateRoom.modalData.room);\n                        }\n                    }\n\n                    setTimeout(() => {\n                        this.errors = [];\n                    }, 1500);\n                })\n                .catch(err => console.log(err));\n        }\n    },\n    created() {\n        this.getSocket.on('roomAdded', data => {\n            this.rooms.unshift(JSON.parse(data));\n        });\n\n        this.getSocket.on('roomListUpdated', data => {\n            this.rooms = this.rooms.filter(room => room._id !== JSON.parse(data).room._id);\n        });\n\n        this.getSocket.on('updateRooms', data => {\n            this.rooms = JSON.parse(data).room;\n        });\n\n        this.getSocket.on('roomNameUpdated', data => {\n            let updateIndex = 0;\n            this.rooms.forEach((room, index) => {\n                if (room._id === JSON.parse(data).room._id) {\n                    updateIndex = index;\n                }\n            });\n            this.rooms.splice(updateIndex, 1, JSON.parse(data).room);\n        });\n    },\n    mounted() {\n        this.fetchRoomData();\n        if (this.errorMessage) {\n            setTimeout(() => {\n                this.errorMessage = '';\n            }, 1500);\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/scss/views/rooms.scss';\n@import '@/assets/scss/components/form.scss';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomList.vue?vue&type=template&id=d6b9a828&\"\nimport script from \"./RoomList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}